<!--
Moon Phase Widget
version 2024.11.0
Guide and updates ☛ https://forum.vivaldi.net/post/783627
————————  ⁂  ————————
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <title>Moon Phase</title>
  <meta name="content-type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" href="moon.css">
</head>

<body>
  <button id="reload" title="Reload">
    <svg width="2.3ch" height="2.3ch" viewBox="0 0 512 512" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z" />
    </svg>
  </button>
  <div id="container" class="hidden">
    <div id="left">
      <svg id="angle" viewBox="-310 -310 620 620" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <clipPath id="circle">
            <circle cx="0" cy="0" r="250" />
          </clipPath>
          <mask id="cut">
            <rect id="rec" x="-250" y="0" width="500" height="250" fill="black" />
            <ellipse id="ell" cx="0" cy="0" rx="250" ry="0" fill="black" />
          </mask>
        </defs>
        <path id="circle-path" fill="none" d="M -265,0 A 265,265 0 0,1 265,0" />
        <path id="circle-path2" fill="none" d="M -290,0 A 290,290 0 0,0 290,0" />
        <text font-size="38" font-weight="600" fill="transparent" opacity="0.4">
          <textPath id="ctext" href="#circle-path" startOffset="50%" text-anchor="middle">
          </textPath>
          <textPath id="ctext2" href="#circle-path2" startOffset="50%" text-anchor="middle">
          </textPath>
        </text>
        <circle id="outer" cx="0" cy="0" r="280" fill="none" stroke="currentColor" stroke-width="60"
          stroke-opacity="0.3" />
        <circle id="inner" cx="0" cy="0" r="250" fill="currentColor" mask="url(#cut)" opacity="0.8" />
        <image href="moon.webp" x="-250" y="-250" width="500" height="500" clip-path="url(#circle)" mask="url(#cut)"
          opacity="0.3" pointer-events="none" />
      </svg>
      <p id="phase"></p>
    </div>
    <div id="right">
      <ul id="events" tabindex=-1> </ul>
    </div>
  </div>
  <footer><span>Data from aa.usno.navy.mil</span></footer>
  <script src="moon.js"></script>
</body>

</html>
