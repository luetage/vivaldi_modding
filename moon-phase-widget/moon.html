<!--
Moon Phase Widget
version 2024.12.0
Guide and updates ☛ https://forum.vivaldi.net/post/783627
————————  ⁂  ————————
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <title>Moon Phase</title>
  <meta name="content-type" content="text/html; charset=UTF-8" />
  <link rel="icon" type="image/png" href="icons/favicon.png">
  <link rel="stylesheet" href="moon.css">
</head>

<body>
  <p id="error" class="hidden"></p>
  <button id="reload" title="Reload">
    <svg xmlns="http://www.w3.org/2000/svg" width="2.3ch" height="2.3ch" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="1 4 1 10 7 10"></polyline>
      <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
    </svg>
  </button>
  <div id="container" class="hidden">
    <div id="left">
      <svg id="angle" viewBox="-310 -310 620 620" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <clipPath id="circle">
            <circle cx="0" cy="0" r="250" />
          </clipPath>
          <mask id="cut">
            <rect id="rec" x="-250" y="0" width="500" height="250" fill="black" />
            <ellipse id="ell" cx="0" cy="0" rx="250" ry="0" fill="black" />
          </mask>
        </defs>
        <path id="circle-path" fill="none" d="M -265,0 A 265,265 0 0,1 265,0" />
        <path id="circle-path2" fill="none" d="M -290,0 A 290,290 0 0,0 290,0" />
        <text font-size="38" font-weight="600" fill="transparent" opacity="0.4">
          <textPath id="ctext" href="#circle-path" startOffset="50%" text-anchor="middle">
          </textPath>
          <textPath id="ctext2" href="#circle-path2" startOffset="50%" text-anchor="middle">
          </textPath>
        </text>
        <circle id="outer" cx="0" cy="0" r="280" fill="none" stroke="currentColor" stroke-width="60"
          stroke-opacity="0.3" />
        <circle id="inner" cx="0" cy="0" r="250" fill="currentColor" mask="url(#cut)" opacity="0.8" />
        <image href="icons/moon.webp" x="-250" y="-250" width="500" height="500" clip-path="url(#circle)"
          mask="url(#cut)" opacity="0.3" pointer-events="none" />
      </svg>
      <p id="phase"></p>
    </div>
    <div id="right">
      <ul id="events" tabindex=-1> </ul>
    </div>
  </div>
  <footer>
    <span>Data from aa.usno.navy.mil</span>
    <span>
      <svg id="map-pin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
        stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
        <circle cx="12" cy="10" r="3"></circle>
      </svg>
      <span id="coor"></span>
    </span>
  </footer>
  <script src="moon.js"></script>
</body>

</html>
